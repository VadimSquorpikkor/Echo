# ECHO

* <b>1.0.0.0 - 22/11/21</b>
1. InitCommit
2. Важно: RSA и GranScanner никак не модифицируется для работы с Echo, эти программы думают, что работают с настоящим БТДУ
3. Подключение по Bluetooth. При запучке приложение вкючает режим видимости, затем AcceptThread, при запросе подключения переходит в ConnectedThread. В случае обрыва соединения автоматом переходит в AcceptThread. Работает при установки ECHO на наутиз и подключении RSA (или GranScanner) установленном на XiaoMi. И не работает наоборот, потом разберусь
4. После успешного подключения начинает принимать запросы ModBus (от RSA или GranScanner) и отвечать на них. Пока ответы — это просто константный массив байт (затычки). GranScanner подключается к эмулятору, проходит режим подготовки (Prepare) и включает режим сканирования. RSA застревает в процессе набора фона, потом разберусь
* <b>1.0.0.1 - 22/11/21</b>
1. ViewModel.
2. Класс конвертер: методы для CRC, перевода из int, float и т.д. в byte и обратно
3. Класс DataRegister. Здесь формируется ответ на запрос READ_STATE_DATA_REGISTERS, методы для перевода значений в массив байт и хранения полученного массива для ответа на запрос команды 4. Некоторый квази набор регистров (160), в который можно записать данные, которые будут считаны RSA. Данные хранятся здесь же (точнее в объекте класса, хранящегося в ViewModel). Сеттеы для всех регистров (54 шт)
* <b>1.0.0.2 - 23/11/21</b>
1. Добавлены методы расколбашивающие mmcps, cps, dr +- некоторый процент от предыдущего значения, чтобы показания не были ровной линией
2. Добавлен фрагмент ввода параметров. Пока только momcpc, cps, dr, все перегрузки
3. Стили, темы, цвета, атрибуты, формы
* <b>1.0.0.3 - 24/11/21</b>
1. Добавил секундную задержку после разрыва соединения и включением режима ожидания подключения, вроде как стало стабильнее переподключаться (был затуп, когда RSA после разрыва соединения шлет команду 3 раза и, не получив ответ, начинала переподключаться, Echo же в момент переподключения RSA видит, что сокет потерян и переподключается в режим ожидания подключения, RSA не получив ответ 3 раза... . Короче, часто было, оба процесса входят в резонанс, и RSA и Echo никак не могут сконектится друг с другом)
2. Добавил информационное поле для вывода статуса программы + отображение входящей от RSA команды
3. Чекбоксы заменил на свитчи
